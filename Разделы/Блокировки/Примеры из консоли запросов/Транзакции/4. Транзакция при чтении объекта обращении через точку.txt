// воспроизводить в режиме совместимости с 8.3.6 и ниже
// проверить в трассировке, что для документа без табличных частей не будет транзакция,
// а для документа с табличными частями будет
// после 8.3.6 транзакции не будет в любом случае

Запрос = Новый Запрос("
|ВЫБРАТЬ  ПЕРВЫЕ 1 Ссылка ИЗ Документ.БезТабличныхЧастей 
|
|ОБЪЕДИНИТЬ ВСЕ 	
|
|ВЫБРАТЬ  ПЕРВЫЕ 1 Ссылка ИЗ Документ.СТабличнымиЧастями");

Выб = Запрос.Выполнить().Выбрать();
Пока Выб.Следующий() Цикл
	
	// до 8.3.6 включительно будет транзакция при обращении через точку от ссылки, 
	// у которой есть хотя бы одна ТЧ
	// то же самое будет, если написать Ссылка.ПолучитьОбъект()
	
	х = Выб.Ссылка.Склад;
	
	Предупреждение("Прочитан "+ТипЗнч(Выб.Ссылка));
	
КонецЦикла;