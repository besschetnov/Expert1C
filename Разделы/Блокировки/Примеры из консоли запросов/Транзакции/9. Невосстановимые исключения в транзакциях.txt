// проанализировать трассировку, увидеть, где будет Rollback Transaction, чему будет равна переменная х
Запрос = Новый Запрос("ВЫБРАТЬ ПЕРВЫЕ 1 Ссылка ИЗ Документ.БезТабличныхЧастей"); Выб = Запрос.Выполнить().Выбрать(); Выб.Следующий(); 

НачатьТранзакцию();

	Док = Выб.Ссылка.ПолучитьОбъект(); Предупреждение("Получен объект");
		
	х = 321;
	Попытка
		х = х * 2;
		Док.ДополнительныеСвойства.Вставить("ОтказОтЗаписи");
		Док.Записать();
	Исключение 
		Предупреждение("Попытка записи объекта: "+ОписаниеОшибки()); 
	КонецПопытки;
	
	Попытка 
		а = Константы.КонстантаЧисло.Получить(); 
	Исключение 
		Предупреждение("Попытка обращения к константе: "+ОписаниеОшибки()); 
	КонецПопытки;
	
	Предупреждение("Транзакция активна: " + ТранзакцияАктивна());
	
Если ТранзакцияАктивна() Тогда 
	ЗафиксироватьТранзакцию(); Предупреждение("Попытка зафиксировать транзакцию"); 
КонецЕсли; // здесь будет откат транзакции
	
Предупреждение("х = "+х);
