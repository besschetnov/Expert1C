// 3. Моделируем фантомы
//
// в управляемом режиме блокировок возможно вставить записи в диапазон "Измерение1" = 1
// чтобы этого избежать, нужно установить управляемую блокировку по "Измерение1", 1
// 
// в автоматическом режиме блокировок из за Serializable нельзя вставить записи 
// c значениями "Измерение1" = 0, "Измерение1" = 1, "Измерение1" = 2
// но можно вставить "Измерение1" = 3, 4 и так далее 
// 
// то есть в авто режиме блокировок блокируются избыточные записи средствами СУБД

НачатьТранзакцию();

	Ф = РегистрыСведений.Тестовый.ПолучитьФорму("ФормаСписка");
	// в автоматическом режиме блокировок будет заблокирован 
	// весь диапазон значений "Измерение1" = 1
	// а также следующая по ключу индекса запись, то есть "Измерение1" = 2
	Ф.Отбор.Измерение1.Установить(1);
	
	// запрос в транзакции при открытии списка
	Ф.ОткрытьМодально();

ОтменитьТранзакцию();
	
//// управляемая блокировка
//Блок = Новый БлокировкаДанных;
//ЭлемБлокировки = Блок.Добавить("РегистрСведений.Тестовый");
//ЭлемБлокировки.УстановитьЗначение("Измерение1", 1);
//ЭлемБлокировки.Режим = РежимБлокировкиДанных.Исключительный;
//Блок.Заблокировать();

