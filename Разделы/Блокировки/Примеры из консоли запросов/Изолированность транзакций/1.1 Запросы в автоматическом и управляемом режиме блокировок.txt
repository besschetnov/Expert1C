// посмотреть в трассировке, какие хинты подставляет платформа, 
// чтобы установить каждый из уровней изоляции транзакции
// проанализировать для авто режима блокировок, для упр режима блокировок в 8.2 и 8.3

// 1. чтение вне транзакции
Запрос = Новый Запрос("ВЫБРАТЬ ПЕРВЫЕ 1 Ссылка ИЗ Документ.БезТабличныхЧастей");
Запрос.Выполнить(); Предупреждение("Прочитан документ ДО транзакции");

НачатьТранзакцию();

	// 2. чтение документа в транзакции
	Запрос = Новый Запрос("ВЫБРАТЬ ПЕРВЫЕ 1 Ссылка ИЗ Документ.БезТабличныхЧастей");
	Запрос.Выполнить(); Предупреждение("Прочитан документ");

	// 3. чтение регистра в транзакции
	Запрос = Новый Запрос("ВЫБРАТЬ ПЕРВЫЕ 1 Товар ИЗ РегистрНакопления.Остаточный");  
	Запрос.Выполнить(); Предупреждение("Прочитан регистр накопления");

	// 4. Опция ДЛЯ ИЗМЕНЕНИЯ
	Запрос = Новый Запрос(
	"ВЫБРАТЬ ПЕРВЫЕ 1 Товар ИЗ РегистрНакопления.Остаточный ДЛЯ ИЗМЕНЕНИЯ РегистрНакопления.Остаточный");   
	Запрос.Выполнить(); Предупреждение("Прочитан регистр накопления с опцией ДЛЯ ИЗМЕНЕНИЯ"); 

	Запрос = Новый Запрос(
	"ВЫБРАТЬ ПЕРВЫЕ 1 Рег.Регистратор, Док.Ссылка
	|ИЗ РегистрНакопления.Остаточный КАК Рег ЛЕВОЕ СОЕДИНЕНИЕ Документ.БезТабличныхЧастей КАК Док ПО Рег.Регистратор = Док.Ссылка
	|ДЛЯ ИЗМЕНЕНИЯ");
	Запрос.Выполнить(); Предупреждение("Прочитан регистр накопления и документ с опцией ДЛЯ ИЗМЕНЕНИЯ");

ЗафиксироватьТранзакцию();
