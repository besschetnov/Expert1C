// выполнить в параллельно в двух окнах в УПРАВЛЯЕМОМ режиме блокировок
// можно использовать тех. журнал с событиями TLock, TDeadlock для расследования

НачатьТранзакцию();

	// 1. разделяемая управляемая блокировка
	Блок_1 = Новый БлокировкаДанных; 
	ЭлементБлокировки = Блок_1.Добавить("РегистрНакопления.Остаточный"); 
	ЭлементБлокировки.УстановитьЗначение("Товар", Справочники.Товары.Смартфон);
	ЭлементБлокировки.Режим = РежимБлокировкиДанных.Разделяемый;
	Блок_1.Заблокировать(); 

	Предупреждение("Установлена разделяемая блокировка");
	
	// 2. исключительная управляемая блокировка
	Блок_2 = Новый БлокировкаДанных; 
	ЭлементБлокировки = Блок_2.Добавить("РегистрНакопления.Остаточный"); 
	ЭлементБлокировки.УстановитьЗначение("Товар", Справочники.Товары.Смартфон);
	ЭлементБлокировки.Режим = РежимБлокировкиДанных.Исключительный;
	Блок_2.Заблокировать(); 

	Предупреждение("Установлена ИСКЛЮЧИТЕЛЬНАЯ блокировка");
	
ЗафиксироватьТранзакцию();
